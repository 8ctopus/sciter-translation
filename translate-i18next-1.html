<html>
<head>
<style>

body {
    flow: vertical;
    border-spacing: 0.7em;
}

body > :not(button) {
    margin-right: *;
    text-align: left;
    width: *;
}

</style>
<script src="js/i18next.js"></script>
<script>

document.on("ready", function() {
    // create i18next object
    const next = i18next;

    // init translation system
    // returns a promise (asynchronous) unless initImmediate is set to false
    next.init({
        debug: true,

        initImmediate: false,

        lng: "fr",

        ns: ['namespace1', 'namespace2'],

        // namespace to use when only translation key is specified
        defaultNS: 'namespace1',

        resources: {
            fr: {
                namespace1: {
                    description: "Test de traduction basée sur i18next",
                    hello: "bonjour",
                    deep: {
                        howareyou: "Comment allez-vous aujourd'hui?",
                    },
                    //button: "changer la langue",
                },
                namespace2: {
                    label: "Bonjour depuis le 2ème namespace.",
                    catsanddogs: "Il y a {{cats}} chats et {{dogs}} chiens dans la pièce.",
                }
            },
        }
    }, function(err, t) {
        // callback when initialization completed
        if (err)
            console.log(`Init i18next - FAILED - ${err}`);
        else
            console.log(`Init i18next - OK`);
    });

    // since the call to init was synchronous, translation can start now

    // translate element with key
    document.$("p").innerHTML = next.t("description");

    // translate element with namespace:key
    document.$("span#hello").innerHTML = next.t("namespace1:hello");

    // translate element with namespace:key.key
    document.$("span#howareyou").innerHTML = next.t("namespace1:deep.howareyou");

    // translate element with default value
    document.$("button").innerHTML = next.t("button", "changer la langue");

    // translate element using another namespace:key
    document.$("label#l1").innerHTML = next.t("namespace2:label");

    // translate element using interpolation
    document.$("label#l2").innerHTML = next.t("namespace2:catsanddogs", {cats: 5, dogs: 3});
});

</script>
</head>
<body>
    <p> Testing translation using i18next </p>
    <span #hello> hello </span>
    <span #howareyou> how are you today? </span>
    <button>change language</button>
    <label #l1 />
    <label #l2 />
</body>
</html>
